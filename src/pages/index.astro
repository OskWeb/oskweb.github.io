---
const preferredLanguage = Astro.request.headers.get('accept-language')?.split(',')[0]?.slice(0, 2) || 'en';
const validLanguages = ['en','es','fr','de','nl'];

const lang = validLanguages.includes(preferredLanguage) ? preferredLanguage : 'en';
Astro.redirect(`/${lang}`);
---